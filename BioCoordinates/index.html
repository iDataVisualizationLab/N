<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>High performance Computing  Explorer</title>

    <link href="https://fonts.googleapis.com/css?family=Fredoka+One|Passion+One|Russo+One&amp;subset=cyrillic,latin-ext" rel="stylesheet">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Staatliches" rel="stylesheet">


    <link rel="stylesheet" type="text/css" href="parallel.css" />
    <link rel="stylesheet" type="text/css" href="../BioRadar/src/style/theme.css" />
    <link rel="stylesheet" type="text/css" href="theme.css" />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="src/lib/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
    <script src="src/lib/underscore-min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.0.1/spin.min.js'></script> <!-- Spinner when loading -->

</head>
<body text="black" id="mainBody">
<div class="cover">
    <h5 class="spinnerC center" style="top: 60%;" >loading data...</h5>
    <div class="spinnerC center" id="loadingSpinner" >
    </div>
</div>
<nav class="pushpin-demo-nav" data-target="blue">

    <div class="nav-wrapper" id="header">
        <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
        <!--<div class="brand-logo center col s12 inline" >-->
        <!--Parallel Coordinates-->
        <!--</div>-->
        <ul id="nav-mobile" class="left hide-on-med-and-down">
            <li ><a href="http://www.depts.ttu.edu/hpcc/" class="logoLink"><img src="https://idatavisualizationlab.github.io/N/BioRadar/src/images/TTUlogoWhite.png" alt="TTU"></a></li>
            <!--<li class="tab active"><a class="active" href="#">BioRadar</a></li>-->
            <!--<li class="tab"><a href="https://idatavisualizationlab.github.io/HPCC/PhaseSpace/index.html">Phase Space</a></li>-->
            <!--<li class="tab"><a href="https://idatavisualizationlab.github.io/HPCC/ParallelCoordinates/index.html">Parallel Coordinates</a></li>-->
            <!--<li class="tab"><a href="https://idatavisualizationlab.github.io/HPCC/PhaseSpace/index.html">Phase Space</a></li>-->
            <!--<div class="col valign-wrapper">-->
            <li class="summaryText1" style="font-family: 'ITC Charter W01',Georgia,Garamond,serif;">  </li>
            <li class ="currentDate center-align"></li>
            <!--</div>-->
        </ul>
        <ul class="right">
            <!--<li><a href="https://idatavisualizationlab.github.io/HPCC/BioRadar/HPCC_VR/index.html">Virtual Reality</a></li>-->
            <li class="tab active"><a class="active" href="#">Bio Parallel Coordinates</a></li>
            <li class="nav__menu">OTHER LINKS
                <ul class="nav__menu-lists nav__menu--2-lists">
                    <li class="nav__menu-items"><a href="https://idatavisualizationlab.github.io/N/BioRadar/index.html">BioRadar</a></li>
                    <!--<li class="nav__menu-items"><a href="https://idatavisualizationlab.github.io/HPCC/PhaseSpace/index.html">Phase Space</a></li>-->
                    <!--<li class="nav__menu-items"><a href="https://idatavisualizationlab.github.io/HPCC/BioRadar/HPCC_VR/index.html">Virtual Reality</a></li>-->
                    <!--<li class="nav__menu-items"><a href="https://idatavisualizationlab.github.io/HPCC/clusterDemo/index.html">ClusterView</a></li>-->
                </ul>
            </li>
            <li><a href="#!" value="dark" id = "DarkTheme" class="btn waves-effect waves-effect waves-yellow">
                <i class="material-icons left">brightness_6</i><span>Light</span></a></li>
        </ul>
    </div>
</nav>
<ul class="sidenav " id="mobile-demo">
    <h5></h5>
    <li><a href="http://www.depts.ttu.edu/hpcc/"><img src="https://idatavisualizationlab.github.io/HPCC/HPCViz/images/TTUlogo.png" alt="Texas Tech University" class="avatar"></a></li>
    <li><a href="https://idatavisualizationlab.github.io/N/BioRadar/index.html">BioRadar</a></li>
    <!--<li><a href="https://idatavisualizationlab.github.io/HPCC/BioRadar/HPCC_VR/index.html">Virtual Reality</a></li>-->
    <!--<li><a href="https://idatavisualizationlab.github.io/HPCC/ParallelCoordinates/index.html">Parallel Coordinates</a></li>-->
</ul>
    <div id="mySidenav" class="sidenavs">
        <ul id="listvar" class="dropdown-content  s12">

        </ul>
        <div class="row s12">
        <ul id="leftpanel" class="collapsible">
            <li class="searchPanel">
                <div class="collapsible-header search-wrapper focused">
                    <input type="text" id="search" placeholder="Search genes e.g AT1G34370">
                    <i class="material-icons" style="margin: auto;">search</i>
                </div>
                <div class="collapsible-body">
                    <ul id="compute-list">
                    </ul>
                </div>
            </li>
            <li class="active" >
                <div class="collapsible-header"><i class="material-icons">settings</i>  Setting</div>
                <div class="collapsible-body">
                    <div >
                    <label for="datacom" class="col s4"> Dataset: </label>
                    <div  class="row s12">
                        <select id="datacom" class="col s7">
                            <option value="transcriptome_averaged_allmetrics" data-preload="STOP1_targets">transcriptome cpm all expressed genes</option>
<!--                            <option value="RKO PKO RPKO" data-split="none">cancer RKO PKO RPKO</option>-->
<!--                            <option value="RKO PKO RPKO_all" data-split="none">cancer RKO PKO RPKO all</option>-->
                            <option value="cancer" data-split="none" selected>cancer RKO PKO RPKO all</option>
<!--                            <option value="transcriptome_averaged_all" >transcriptome cpm all expressed genes</option>-->
<!--                            <option value="transcriptome_cpm_all_expressed_genes">transcriptome cpm all expressed genes</option>-->
<!--                            <option value="transcriptome_averaged_subtractbyhp6">transcriptome different hp6</option>-->
<!--                            <option value="transcriptome_cpm_all_expressed_genes_wt">transcriptome wild types</option>-->
<!--                            <option value="transcriptome_averaged_subtractbyhp6_wt">transcriptome different hp6 wild types</option>-->
                        </select>
                    </div>
                    </div>
                    <div  class="row s12">
                        <label for="enableCPM_control" class="col s4">Use pseudocount: </label>
                        <input id="enableCPM_control" type="checkbox" class="col" style="opacity: 1;pointer-events: all;" checked>
                    </div>
                    <table class="table table-striped table-hover row s12" id = "axisSetting">
                        <thead class="thead-dark">
                        <tr>
                            <th><input type="checkbox" checked="checked"></th>
                            <th>Color by</th>
                            <th>Metric</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="row s12">
                        <div id="volcano_contain" style="position: relative">
<!--                            <div id="modelLoading" class="loading hidden">-->
<!--                                <div class="progressDiv hidden">-->
<!--                                    <h6 class="progressText spinnerC center" style="top: calc(50% - 15px);" >saving data...</h6>-->
<!--                                    <div class="progress spinnerC center" style="width: 70%;">-->
<!--                                        <div class="determinate" style="width: 0%"></div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
                            <div class="overlaySide horizontal">
                                <a class="openbtn btn-floating btn waves-effect waves-light pulse" data-target=".sideHnavs" data-source="#Maincontent" data-class="sidehIn" data-link="#hNavbtn" id="hNavbtn" onclick="openNav(this)">
                                    <i class="material-icons">keyboard_arrow_down</i></a>
                            </div>
                            <canvas id="volcanoScreen"></canvas>
                            <!--<canvas id="volcanoScreen_fornt" style="position:absolute;top:0;left:0"></canvas>-->
                            <svg id="volcanoScreen_svg" style="position:absolute;top:0;left:0; pointer-events: none">
                                <defs>

                                </defs>
                                <g id="volcanoScreen_legend">

                                </g>

                                <g id="volcanoScreen_svg_g">

                                </g>
                                <g id="volcanoScreen_lassotool">

                                </g>
                            </svg>
                        </div>
                    </div>
                    <!--<div id="colorContinuos"></div>-->
                    <!--<p id="legend" class="col s12">-->
                    <!--</p>-->
                </div>
            </li>
            <li class="hide">
                <div class="collapsible-header"><i class="material-icons">group_work</i> <span> Operational states </span></div>
                <div class="collapsible-body">
                    <div style="position: relative;">
                        <div id="clusterLoading" class="loading hidden">
                            <div class="progressDiv hidden">
                                <h6 class="progressText spinnerC center" style="top: calc(50% - 15px);" >saving data...</h6>
                                <div class="progress spinnerC center" style="width: 70%;">
                                    <div class="determinate" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div  class="row valign-wrapper">
                                <label for="clusterMethod" class="col s4 radarcontroller_layout"> Grouping Method</label>
                                <select id="clusterMethod" class="col s8 radarcontroller_layout">
                                    <option value="leaderbin" selected="selected">Leader Bin</option>
                                    <option value="kmean">K-means</option>
                                    <!--<option value="binarybin">Binary bin</option>-->
                                </select>
                            </div>
                            <div  class="row valign-wrapper">
                                <label for="normMethod" class="col s4 radarcontroller_layout"> Distance Function</label>
                                <select id="normMethod" class="col s8 radarcontroller_layout">
                                    <option value="l1">L1 norm - Manhattan Distance</option>
                                    <option value="l2" selected="selected">L2 norm - Euclidean Distance</option>
                                </select>
                            </div>
                            <form action="#" class='clusterProfile row valign-wrapper' id = "leaderbinprofile" onsubmit="recalculateCluster( {clusterMethod: 'leaderbin',normMethod:$('#normMethod').val(),bin:{startBinGridSize: +$('#startBinGridSize').val(),range: [+$('#lowrange').val(),+$('#highrange').val()]}},onchangeCluster);return false;">
                                <label for="startBinGridSize" class="col s4 radarcontroller_layout hide">Initial diameter</label>
                                <div  class="col s5 hide">
                                    <input type="number" id="startBinGridSize" class="radarcontroller_layout browser-default">
                                </div>
                                <label for="lowrange" class="col s4 radarcontroller_layout">#Groups from </label>
                                <div  class="col s5 no-pad-left valign-wrapper" >
                                    <input type="number" id="lowrange" class="col s3 radarcontroller_layout browser-default no_leftmagrin">
                                    <span class="col s2 no_leftmagrin">to</span>
                                    <input type="number" id="highrange" class="col s3 radarcontroller_layout browser-default no_leftmagrin" >
                                </div>
                                <div  class="col s3 no_padding valign-wrapper center-align" >
                                    <button type="submit" class="btn-small animatIcon"><i class="material-icons">send</i><div>Submit</div></button>
                                </div>
                            </form>
                            <form action="#" class='clusterProfile hide row valign-wrapper' id = "kmeanprofile" onsubmit="recalculateCluster( {clusterMethod: 'kmean',normMethod:$('#normMethod').val(),bin:{k: +$('#knum').val(),iterations: +$('#kiteration').val()}},onchangeCluster);return false;">
                                <label for="knum" class="col s4 radarcontroller_layout">#Groups</label>
                                <div  class="col s5 no-pad-left valign-wrapper">
                                    <input type="number" id="knum" class="col s3 radarcontroller_layout browser-default no_leftmagrin">
                                    <span class="col s6 no_leftmagrin"> #Iterations</span>
                                    <input type="number" id="kiteration" class="col s3 radarcontroller_layout browser-default no_leftmagrin" >
                                </div>
                                <div  class="col s3 no_padding valign-wrapper center-align" >
                                    <button type="submit" class="btn-small animatIcon"><i class="material-icons">send</i><div>Submit</div></button>
                                </div>
                            </form>
                            <form action="#" class='clusterProfile hide row valign-wrapper' id = "binarybinprofile" onsubmit="recalculateCluster( {clusterMethod: 'binarybin',normMethod:$('#normMethod').val()},onchangeCluster);return false;">
                                <div  class="col s3 no_padding valign-wrapper center-align" >
                                    <button type="submit" class="btn-small animatIcon"><i class="material-icons">send</i><div>Submit</div></button>
                                </div>
                            </form>
                        </div>
                        <div class="row s12 valign-wrapper" style="margin-bottom: 0; padding-top: 10px; background-color: white">
                            <!--                                <label class="col s8 offset-s4 left-align">-->
                            <!--                                    <input id="majorGroupDisplay_control" checked type="checkbox" class="filled-in">-->
                            <!--                                    <span >Display min-max</span>-->
                            <!--                                </label>-->
                            <div class="col s8 offset-s3 left-align">
                                <label for="majorGroupDisplay_control">Display: </label>
                                <select id="majorGroupDisplay_control">
                                    <option value="0">Leaders</option>
                                    <option value="1" selected>Min-Max</option>
                                    <option value="2">Histogram</option>
                                </select>
                            </div>
                        </div>
                        <div class="row s12 flex_contain flex_warp white" id="clusterDisplay">
                            <button class="information waves-effect waves-light hide" style="right: 17px;position: absolute;"><i class="material-icons">priority_high</i></button>
                            <div id='clusterinformation' class="informationDetail card">
                                <table>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li>
                <div class="collapsible-header"><i class="material-icons">help</i>Controls</div>
                <div class="collapsible-body">
                    <p>
                        <strong>Brush</strong>: Drag vertically along an axis.<br/>
                        <strong>Remove Brush</strong>: Tap the axis background.<br/>
                        <strong>Reorder Axes</strong>: Drag a axis label horizontally.<br/>
                        <strong>Invert Axis</strong>: Tap an axis label.<br/>
                        <strong>Remove Axis</strong>: Drag axis label to the left edge.<br/>
                    </p>
                </div>
            </li>
        </ul>


        <!--<div class="col s12">-->
            <!--<h5>Controls</h5>-->
            <!--<p>-->
                <!--<strong>Brush</strong>: Drag vertically along an axis.<br/>-->
                <!--<strong>Remove Brush</strong>: Tap the axis background.<br/>-->
                <!--<strong>Reorder Axes</strong>: Drag a axis label horizontally.<br/>-->
                <!--<strong>Invert Axis</strong>: Tap an axis label.<br/>-->
                <!--<strong>Remove Axis</strong>: Drag axis label to the left edge.<br/>-->
            <!--</p>-->
        <!--</div>-->
        </div>

    </div>
<div id="Maincontent" class="row s12">
    <a href="javascript:void(0)" class="closebtn btn-floating btn waves-effect waves-light" onclick="closeNav()"><i class="material-icons">chevron_left</i></a>
    <div class="overlaySide">
        <a class="openbtn btn-floating btn waves-effect waves-light" id="sideNavbtn" onclick="openNav()">
            <i class="material-icons">chevron_right</i></a>
    </div>
    <div id="header2" class="row s12 marginBottom0">
        <!--<h1>HPCC Explorer</h1>-->
        <button title="Zoom in on selected data" id="keep-data" disabled="disabled">Keep</button>
        <button title="Remove selected data" id="exclude-data" disabled="disabled">Exclude</button>
        <button type="submit" value = false class ="modal-trigger" title="Export data as CSV" id="export-data" href="#exportdialog">Export</button>
        <div class="controls">
            <strong id="rendered-count"></strong>/<strong id="selected-count"></strong><!--<strong id="data-count"></strong>-->
            <div class="fillbar"><div id="selected-bar"><div id="rendered-bar">&nbsp;</div></div></div>
            Lines at <strong id="opacity"></strong> opacity.
            <div style="display: inline-block;">
                <label for="overlayPlot" style="display: inline-block;"> Show: </label>
                <select id="overlayPlot" style="display: inline-block;height: 21px;padding: 0;width: auto;">
                    <option value="none" selected="selected">None</option>
                    <option value="tick" selected="selected">ticks</option>
                    <option value="violin">Violin plots</option>
                    <option value="violin+tick">Violin plots + ticks</option>
                </select>
            </div>
        </div>
        <div style="clear:both;"></div>
    </div>
    <div id="chart" class="row s12">
        <canvas id="background"></canvas>
        <canvas id="foreground"></canvas>
        <canvas id="highlight"></canvas>
        <svg></svg>
    </div>
    <div class="tap-target" data-target="sideNavbtn">
        <div class="tap-target-content">
            <h5>Title</h5>
            <p>A bunch of text</p>
        </div>
    </div>

    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5>What is this?</h5>
                    <p>
                        A multidimensional explorer of Bio data from the <a href="https://idatavisualizationlab.github.io/N/BioRadar/index.html">BioRadar</a>.
                    </p>
                    <p>
                        The parallel coordinates displays the expressed genes in the transcriptome in the database across 6 condition.
                    </p>
                    <p>
                        <a href="http://eagereyes.org/techniques/parallel-coordinate">Never heard of parallel coordinates? Read this tutorial.</a>
                    </p>
                    <p>
                        <a href="https://github.com/d3/d3-brush">Brush</a> the visualization to update other charts on this page.
                    </p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5>Credits &amp; License</h5>
                    <p>
                        Adapted from examples by
                        <a href="http://bl.ocks.org/1341021">Mike Bostock</a>, <a href="http://bl.ocks.org/1341281">Jason Davies</a>
                        and <a href="http://bl.ocks.org/syntagmatic/3150059">Kai Chang</a><br/>
                    </p>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                &copy; 2012, Kai Chang All rights reserved. Released under the <a href="http://opensource.org/licenses/bsd-3-clause">BSD License</a>.
                <a class="grey-text text-lighten-4 right" href="#!">Modified 2019, Ngan Nguyen</a>
            </div>
        </div>
    </footer>
</div>
<div id="exportdialog" class="modal custom">
    <div class="modal-content">
        <div class="input-field col s6">
            <input placeholder="radar chart" id="exportname" type="text" class="validate">
            <label for="exportname">File name</label>
        </div>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
        <a href="#!" class="modal-close waves-effect waves-green btn-flat teal" onclick="export_csv()" style="color: rgba(255, 255, 255, 0.9);">Save</a>
    </div>
</div>
</body>
<!--THREE js-->
<script type="x-shader/x-vertex" id="vertexshader">

        attribute float alpha;
        attribute float size;
        attribute vec3 customColor;

        varying float vAlpha;
        varying vec3 vColor;

        void main() {

            vAlpha = alpha;

            vColor = customColor;

            vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

            gl_PointSize = size ;

            gl_Position = projectionMatrix * mvPosition;

        }

    </script>

<script type="x-shader/x-fragment" id="fragmentshader">

        uniform vec3 color;
        uniform sampler2D pointTexture;

        varying float vAlpha;
        varying vec3 vColor;

        void main() {

            gl_FragColor = vec4( color * vColor, vAlpha );

            gl_FragColor = gl_FragColor * texture2D( pointTexture, gl_PointCoord );

        }
    </script>

<script src="../BioRadar/src/script/graphic/radarChart.js"></script>
<script src="../BioRadar/src/script/graphic/roseChart.js"></script>
<script src="../BioRadar/src/script/violinChart.js"></script>
<script src="../BioRadar/src/lib/simple-statistics.min.js"></script>


<script src="../BioRadar/src/lib/three.min.js"></script>
<script src="../BioRadar/src/lib/threejsPlugin/LassoTool.js"></script>
<script src="../BioRadar/src/lib/threejsPlugin/SelectionHelper.js"></script>
<script src="../BioRadar/src/lib/threejsPlugin/curve3D.js"></script>
<script src="../BioRadar/src/lib/OrbitControls.js"></script>
<!--data load-->
<script src="../BioRadar/src/script/setting_theme.js"></script>
<script src="../BioRadar/src/script/setting.js"></script>
<script src="../BioRadar/src/script/util.js"></script>
<script src="../BioRadar/src/lib/jquery.dataTables.min.js"></script>
<script src="../BioRadar/src/script/volcano.js"></script>
<!--<script src="src/data/serviceWed26Sep.js"></script>-->
<!--<script src="http://mbostock.github.com/d3/d3.v2.js"></script>-->
<!--<script src="src/js/ulti.js"></script>-->
<script src="src/js/readData.js"></script>
<script src="build/js/main.min.js"></script>
<!--<script src="../BioRadar/src/lib/underscore-min.js"></script>-->
<script src="../BioRadar/src/lib/lodash.min.js"></script>
<script src="src/js/main.js"></script>
</html>